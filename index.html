<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous" />

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

		<style>
			#leftside {
			text-align:center;
			}
			#showTime {
			font-family: "Trebuchet MS";
			padding: 25px 0;
			}
			#prbar {
			/*width: 35%;
			margin: 0 auto;*/
			}

			#cost {
			padding: 35px 0 0 0;
			}	

			.mydata {
			font-family: "Trebuchet MS";
			padding: 10px;	
			text-align:center;
			}

			.achieved {
			/*
			   color: darkgreen !important;
			   display: inline-block;
			   font-weight: 300;
			   visibility:hidden;
			   display:none;
			*/
			   display: inline-block;
				
			}

			.netachieved {
			color: darkgreen !important;
			font-weight: 600;
			}	


			.biggerspan {
			font-size: 110%;
			}			

			.notachieved {
			/*
			color: #EEEEEE !important;
			visibility: hidden;			
			font-weight: 300;
			visibility:hidden;
			display:none;
			*/
				
			display: inline-block;

			}	

			.inblk {
			display: inline-block;
			}


			.ahmfaicon{
			margin: 0 0.5em 0 0em;
			}	

			.column {
			margin-top : 2em;
			}

			.showit {
			display: inline-block !important;
			}

			.btn {
			margin: 1em 0;
			}


		</style>
	</head>
	<body>

		<div class="container" id="carrier">
			<div class="row align-items-top">
				<div id="leftside" class="column col">
					<img class="img-fluid" src="liver.webp" />
					<h3 id="showTime"></h3>
					<div class="progress" id="prbar"></div>	
				</div>
			</div>
			<div class="row align-items-top">
				<div class="column col">
					<div class="list-group" id="achs">
						<!--<a class="list-group-item" href="#"><i class="fa fa-check fa-fw" aria-hidden="true"></i><div id="cost" class="mydata"></div></a>-->
						<a class="list-group-item netachieved list-group-item-success" href="#"><i class="fa fa-money fa-fw ahmfaicon" aria-hidden="true"></i><div id="percentdata"></div></a>
						<a class="list-group-item netachieved list-group-item-success" href="#"><i class="fa fa-hourglass-end fa-fw ahmfaicon" aria-hidden="true"></i><div id="time" ></div></a>						

						<a class="list-group-item timer " href="#" data-value="12" data-definer="h"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[12 hours] Your blood sugar may normalize by the end of the next day.</a>

						<a class="list-group-item timer " href="#" data-value="24" data-definer="h"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[24 hours] The most severe alcohol withdrawal symptoms may occur between 24-48 hours after the last drink. These include: Fast heart rate, High blood pressure, Seizures</a>

						<a class="list-group-item timer " href="#" data-value="48" data-definer="h"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[48 hours] Withdrawal symptoms subside or become more manageable. You should have both more time and more capacity to exercise</a>
 
						<a class="list-group-item timer " href="#" data-value="4" data-definer="d"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[4 days] Heavy drinkers or binge drinkers should feel more hydrated and less fatigued after 4 days of not drinking. Those who struggle with alcoholism may feel their alcohol withdrawal symptoms start to go away by the 4th day. </a>


						<a class="list-group-item timer " href="#" data-value="1" data-definer="w"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[1 week] Most drinkers start to sleep better after a week of not drinking alcohol. This better sleep is caused by more REM sleep, the deepest stage of sleep where dreaming and memory occur. Alcohol may help you fall asleep faster because it’s a depressant, but it prevents this all-important REM stage of sleep. You will feel more hydrated, which could improve your oral health and even your skin health. After 7 days, most drinkers will notice their skin hydration improve. The withdrawal symptoms will stop for most dependent drinkers. </a>


						<a class="list-group-item timer " href="#" data-value="2" data-definer="w"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[2 weeks] Many former drinkers will continue to see improvements in their sleep patterns, their hydration, and their skin health. At 2 weeks, most drinkers should no longer experience acid reflux. The lining in your stomach has had time to heal from constant inflammation and returns to normal. You’ve probably cut 2000 calories by the second week’s end. You may find your scale reading a pound or two lighter than before.</a>


						<a class="list-group-item timer " href="#" data-value="3" data-definer="w"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[3 weeks] The most drinkers have successfully reduced their risk of heart disease, including stroke, high cholesterol, and high blood pressure. Their kidney health and even their vision may improve. For dependent drinkers, blood pressure may reduce to normal levels by the 3rd or 4th week.</a>


						<a class="list-group-item timer " href="#" data-value="4" data-definer="w"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[4 weeks] Your liver fat may be reduced up to 20%, significantly reducing your risk of cirrhosis of the liver or fatty liver disease. This also means the liver is more able to help your body detox. Your skin should completely clear up within a month after quitting drinking — except in the heaviest of former drinkers. Your skin should look younger and more hydrated. Anyone who successfully stops drinking for a whole month is more likely to abstain from alcohol for 6 months.</a>


						<a class="list-group-item timer " href="#" data-value="3" data-definer="M"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[3 months] 3 months of not drinking reduces your risk of cancer. Types of cancer that alcohol is known to contribute to include; Liver, Oral, Breast, Pharynx, Larynx, Esophagus, Stomach, Colorectal, Ovarian</a>


						<a class="list-group-item timer " href="#" data-value="1" data-definer="y"><i class="fa fa-check fa-fw ahmfaicon" aria-hidden="true"></i>[1 year] Your risk of cancer, heart disease, liver disease, and kidney disease have all dropped dramatically. Your immune function will have improved, which may have even addressed symptoms of autoimmunity you had before. Your bone density will start to increase.</a>					
					
					</div>

					<button type="button" class="btn btn-primary active" id="collapse">Collapse</button>
				</div>

			</div>
		</div>


		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.2/moment.min.js"></script>
		<script src="https://rawgit.com/codebox/moment-precise-range/master/moment-precise-range.js"></script>		

		<script>


			function pad(n, width, z) {
			z = z || '0';
			n = n + '';
			return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
			}



			//var MomentQuitTime = moment("2019-02-25 23:59:01",       "YYYY-MM-DD HH:mm:ss");
			//var MomentQuitTime = moment("2022-10-09 16:30:00",       "YYYY-MM-DD HH:mm:ss");
			var MomentQuitTime = moment("2023-04-19 23:30:00",       "YYYY-MM-DD HH:mm:ss");

			var SmokingCostPerDay = 8;
			var MinutesSpentOnSmokingPerDay = 200;

			var LungCleaningTime = moment.duration(3, 'months');

			showDiff();




			function showDiff(){



			var MomentRightNow = moment();			
			var QuitDuration = moment.duration(MomentRightNow.diff(MomentQuitTime));

			//QuitDuration.add(5, "y");
			//var d2 = d1.clone();

			var TextElapsedTime = moment.preciseDiff(MomentQuitTime, MomentRightNow);

			var LungCleaningProgress = (QuitDuration / LungCleaningTime * 100 ).toFixed(5);
			var SavedCost = (SmokingCostPerDay * QuitDuration.asDays());
			var SavedTime = moment.duration((MinutesSpentOnSmokingPerDay * QuitDuration.asDays()), 'minutes').humanize();

			$(document).ready(function(){

			//Show elapsed time
			$("#showTime").text(TextElapsedTime);

			//Show lung progress bar
			$("#prbar").html("<div class='progress-bar progress-bar-success progress-bar-striped active' role='progressbar' aria-valuenow='" + LungCleaningProgress + "' aria-valuemin='0' aria-valuemax='100' style='width:"+ LungCleaningProgress +"%'> <span class='sr-only'>"+ LungCleaningProgress +"% Complete</span></div>");

			// Show percent data
			$("#percentdata").text(LungCleaningProgress + "% Complete");

			// Show saved amount
			$("#percentdata").html("<span class='biggerspan'> € " + SavedCost.toLocaleString(undefined, {maximumFractionDigits:2}) + " saved.</span>");

			// Show saved amount
			$("#time").html("<span class='biggerspan'> " + SavedTime + " saved.</span>");		

			// Show all items
			$("#collapse").click(function() {
			$(".collapse").toggle();
			});


			$( "#achs a.timer" ).each(function() {

			var MomentDummyComperatorClone = QuitDuration.clone();			
			var GetCurrentItemAchievementTime = MomentDummyComperatorClone.subtract($(this).data("value"),$(this).data("definer"));

			if ( GetCurrentItemAchievementTime > 0 ){



		$(this).addClass("achieved").addClass("list-group-item-success").removeClass("notachieved").removeClass("disabled").addClass("collapse");
		$(this).find("i.fa").addClass("fa-check").removeClass("fa-clock-o");
		//console.log($(this).text() + " - (Yes) - " + GetCurrentItemAchievementTime.toISOString());

		} else
		{
		//console.log($(this).text() + " - (No) - " + GetCurrentItemAchievementTime.toISOString());
		$(this).addClass("notachieved").addClass("disabled").removeClass("achieved").removeClass("list-group-item-success").addClass("collapse");
		$(this).find("i.fa").removeClass("fa-check").addClass("fa-clock-o");
		};


		});

		});



		setTimeout(showDiff,1000);

		$( "#achs a.achieved").slice(-2).addClass("showit").removeClass("collapse");

		$( "#achs a.notachieved").slice(0, 3).addClass("showit").removeClass("collapse");

		//$( "a.achieved:nth-last-of-type(1)").show();					

		}





	</script>



</body>
</html>
